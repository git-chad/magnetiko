@import "tailwindcss";

/* ─── Dark mode: class strategy ──────────────────────────────────────────── */
@custom-variant dark (&:is(.dark *));

/* ─── Design tokens ──────────────────────────────────────────────────────── */
@theme {

  /* ── Colors ─────────────────────────────────────────────────────────────── */

  /* Primary (cold olive graphite) */
  --color-primary-950: #0f120f;
  --color-primary-900: #171b17;
  --color-primary-800: #1f2520;
  --color-primary-700: #2a322b;
  --color-primary:     #364038;
  --color-primary-500: #556257;
  --color-primary-400: #778377;
  --color-primary-300: #99a398;
  --color-primary-200: #bdc3bb;
  --color-primary-100: #dde0da;
  --color-primary-50:  #f1f4ef;

  /* Secondary (muted sage neutral) */
  --color-secondary-950: #141813;
  --color-secondary-900: #1c231c;
  --color-secondary-800: #273126;
  --color-secondary-700: #394638;
  --color-secondary:     #526250;
  --color-secondary-500: #70806f;
  --color-secondary-400: #8f9c8e;
  --color-secondary-300: #afbaae;
  --color-secondary-200: #ced6cd;
  --color-secondary-100: #e5eae4;
  --color-secondary-50:  #f4f7f3;

  /* Accent (signal orange) */
  --color-accent-950: #2d1202;
  --color-accent-900: #4d2106;
  --color-accent-800: #6f3009;
  --color-accent-700: #99410f;
  --color-accent:     #ff6a1f;
  --color-accent-500: #ff8d4b;
  --color-accent-400: #ffae79;
  --color-accent-300: #ffccaa;
  --color-accent-200: #ffe3d0;
  --color-accent-100: #fff1e8;
  --color-accent-50:  #fff8f3;

  /* Surfaces */
  --color-surface-base:    #f1f4f9;
  --color-surface-raised:  #ffffff;
  --color-surface-overlay: #e8edf5;
  --color-surface-sunken:  #d8dfeb;

  /* Semantic */
  --color-success:        #22C55E;
  --color-success-subtle: #dcfce7;
  --color-warning:        #F59E0B;
  --color-warning-subtle: #fef3c7;
  --color-error:          #EF4444;
  --color-error-subtle:   #fee2e2;
  --color-info:           #3B82F6;
  --color-info-subtle:    #dbeafe;

  /* ── Spacing ─────────────────────────────────────────────────────────────── */
  --spacing-4xs: 0.1875rem;  /* 3px  */
  --spacing-3xs: 0.375rem;   /* 6px  */
  --spacing-2xs: 0.5625rem;  /* 9px  */
  --spacing-xs:  0.75rem;    /* 12px */
  --spacing-sm:  1.125rem;   /* 18px */
  --spacing-md:  1.5rem;     /* 24px */
  --spacing-lg:  2.25rem;    /* 36px */
  --spacing-xl:  3rem;       /* 48px */
  --spacing-2xl: 4.5rem;     /* 72px */
  --spacing-3xl: 6rem;       /* 96px */
  --spacing-4xl: 9rem;       /* 144px */

  /* ── Border radius ───────────────────────────────────────────────────────── */
  --radius-xs:   0.25rem;   /* 4px  */
  --radius-sm:   0.5rem;    /* 8px  */
  --radius-md:   0.75rem;   /* 12px */
  --radius-lg:   1rem;      /* 16px */
  --radius-xl:   1.25rem;   /* 20px */
  --radius-full: 9999px;

  /* ── Box shadows ─────────────────────────────────────────────────────────── */
  --shadow-low:  0 1px 1px rgba(18, 24, 18, 0.04), 0 4px 8px rgba(18, 24, 18, 0.06);
  --shadow-mid:  0 8px 24px rgba(18, 24, 18, 0.1), 0 2px 8px rgba(18, 24, 18, 0.08);
  --shadow-high: 0 18px 48px rgba(18, 24, 18, 0.16), 0 6px 18px rgba(18, 24, 18, 0.12);

  /* ── Font family ─────────────────────────────────────────────────────────── */
  --font-sans: "SF Pro Display", "SF Pro Text", "Segoe UI", "Helvetica Neue", "Arial", sans-serif;

  /* ── Font sizes (with line-height & letter-spacing) ──────────────────────── */
  --text-caption:                   0.75rem;    /* 12px */
  --text-caption--line-height:      0.9375rem;  /* 15px */
  --text-caption--letter-spacing:   0.01em;

  --text-body:                      0.875rem;   /* 14px */
  --text-body--line-height:         1.125rem;   /* 18px */
  --text-body--letter-spacing:      0em;

  --text-subhead:                   1.0625rem;  /* 17px */
  --text-subhead--line-height:      1.25rem;    /* 20px */
  --text-subhead--letter-spacing:   0em;

  --text-title:                     1.25rem;    /* 20px */
  --text-title--line-height:        1.5rem;     /* 24px */
  --text-title--letter-spacing:     -0.005em;

  --text-headline:                  1.5rem;     /* 24px */
  --text-headline--line-height:     1.875rem;   /* 30px */
  --text-headline--letter-spacing:  -0.01em;

  --text-display:                   1.8125rem;  /* 29px */
  --text-display--line-height:      2.125rem;   /* 34px */
  --text-display--letter-spacing:   -0.015em;

  /* ── Transition duration ─────────────────────────────────────────────────── */
  --duration-micro:  60ms;
  --duration-base:   120ms;
  --duration-medium: 150ms;
  --duration-large:  500ms;

  /* ── Easing ──────────────────────────────────────────────────────────────── */
  --ease-enter: cubic-bezier(.2, 1.4, .4, 1);
  --ease-exit:  cubic-bezier(0, 0, .2, 1);
  --ease-move:  cubic-bezier(.2, 1.4, .4, 1);
  --ease-micro: cubic-bezier(.2, 1.4, .4, 1);
}

/* ─── Semantic CSS custom properties (theme-aware) ───────────────────────── */
@layer base {
  :root {
    /* Canvas / app background */
    --color-bg:         #eff3f9;
    --color-bg-raised:  rgba(255, 255, 255, 0.8);
    --color-bg-sunken:  #e2e9f2;
    --color-bg-subtle:  rgba(255, 255, 255, 0.56);

    /* Panel surfaces */
    --color-surface-1:  #f7f9fc;
    --color-surface-2:  #ecf1f8;

    /* Foreground / text */
    --color-fg:           #111a28;
    --color-fg-primary:   #111a28;
    --color-fg-secondary: #3f4c5f;
    --color-fg-tertiary:  #6d7a8e;
    --color-fg-disabled:  #a2adbb;
    --color-fg-on-accent: #fffaf6;

    /* Borders */
    --color-border:       rgba(13, 27, 45, 0.12);
    --color-border-hover: rgba(13, 27, 45, 0.2);
    --color-border-focus: rgba(255, 106, 31, 0.62);

    /* Interactive state overlays */
    --color-hover-bg:    rgba(19, 31, 48, 0.06);
    --color-active-bg:   rgba(19, 31, 48, 0.11);
    --color-selected-bg: rgba(255, 106, 31, 0.16);
    --color-focus-ring:  rgba(255, 106, 31, 0.28);

    /* Overlays */
    --color-backdrop: rgba(12, 17, 13, 0.42);
    --color-scrim:    linear-gradient(to top, rgba(12,17,13,0.72) 0%, rgba(12,17,13,0) 100%);
  }

  .dark {
    /* Canvas / app background */
    --color-bg:         #1d201e;
    --color-bg-raised:  rgba(33, 38, 34, 0.86);
    --color-bg-sunken:  #151915;
    --color-bg-subtle:  rgba(255, 255, 255, 0.06);

    /* Panel surfaces */
    --color-surface-1:  #252b26;
    --color-surface-2:  #2f3730;

    /* Foreground / text */
    --color-fg:           #e8ede8;
    --color-fg-primary:   #e8ede8;
    --color-fg-secondary: #c0c9be;
    --color-fg-tertiary:  #8f9b8d;
    --color-fg-disabled:  #5f6a5d;
    --color-fg-on-accent: #fff8f2;

    /* Borders */
    --color-border:       rgba(221, 229, 216, 0.14);
    --color-border-hover: rgba(221, 229, 216, 0.22);
    --color-border-focus: rgba(255, 141, 75, 0.72);

    /* Interactive state overlays */
    --color-hover-bg:    rgba(255, 255, 255, 0.08);
    --color-active-bg:   rgba(255, 255, 255, 0.12);
    --color-selected-bg: rgba(255, 141, 75, 0.2);
    --color-focus-ring:  rgba(255, 141, 75, 0.35);

    /* Overlays */
    --color-backdrop: rgba(6, 9, 6, 0.68);
    --color-scrim:    linear-gradient(to top, rgba(6,9,6,0.78) 0%, rgba(6,9,6,0) 100%);
  }

  /* ── Base resets ─────────────────────────────────────────────────────────── */
  *,
  *::before,
  *::after {
    box-sizing: border-box;
  }

  html {
    scroll-behavior: smooth;
    -webkit-text-size-adjust: 100%;
    text-size-adjust: 100%;
  }

  body {
    position: relative;
    isolation: isolate;
    background:
      radial-gradient(1200px 900px at -12% -18%, rgba(255, 140, 72, 0.16) 0%, rgba(255, 140, 72, 0) 52%),
      radial-gradient(900px 680px at 108% 118%, rgba(138, 164, 126, 0.12) 0%, rgba(138, 164, 126, 0) 56%),
      linear-gradient(180deg, #f6f9fd 0%, var(--color-bg) 65%);
    color: var(--color-fg);
    font-family: var(--font-sans);
    font-size: 0.875rem;  /* body / 14px default */
    line-height: 1.25;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  .dark body {
    background:
      radial-gradient(1150px 840px at -12% -20%, rgba(255, 122, 51, 0.2) 0%, rgba(255, 122, 51, 0) 50%),
      radial-gradient(920px 700px at 110% 122%, rgba(138, 164, 126, 0.14) 0%, rgba(138, 164, 126, 0) 55%),
      linear-gradient(180deg, #252a25 0%, var(--color-bg) 68%);
  }

  body::before {
    content: "";
    position: fixed;
    inset: 0;
    pointer-events: none;
    z-index: -1;
    background-image:
      linear-gradient(rgba(255, 255, 255, 0.14) 1px, transparent 1px),
      linear-gradient(90deg, rgba(255, 255, 255, 0.14) 1px, transparent 1px);
    background-size: 42px 42px;
    mask-image: radial-gradient(circle at center, black 32%, transparent 78%);
    opacity: 0.14;
  }

  .dark body::before {
    background-image:
      linear-gradient(rgba(193, 205, 186, 0.1) 1px, transparent 1px),
      linear-gradient(90deg, rgba(193, 205, 186, 0.1) 1px, transparent 1px);
    opacity: 0.18;
  }
}

/* ─── Keyframes ──────────────────────────────────────────────────────────── */

@keyframes modal-enter {
  from {
    opacity: 0;
    transform: scale(0.96) translateY(8px);
  }
  to {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}

@keyframes modal-exit {
  from {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
  to {
    opacity: 0;
    transform: scale(0.96) translateY(8px);
  }
}

@keyframes dropdown-enter {
  from {
    opacity: 0;
    transform: translateY(-6px) scale(0.98);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

@keyframes toast-enter {
  from {
    opacity: 0;
    transform: translateY(12px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes toast-exit {
  from {
    opacity: 1;
    transform: translateY(0);
  }
  to {
    opacity: 0;
    transform: translateY(12px);
  }
}

@keyframes fade-in {
  from { opacity: 0; }
  to   { opacity: 1; }
}

@keyframes slide-up {
  from {
    opacity: 0;
    transform: translateY(16px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* ─── Reduced motion ─────────────────────────────────────────────────────── */

@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}
